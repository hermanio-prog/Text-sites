<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Mini Auto-Condutor | Hermanio Cuamba</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ===================== RESET ===================== */
*{box-sizing:border-box;margin:0;padding:0}

/* ===================== GERAL ===================== */
body{
    font-family:Arial, sans-serif;
    background:#111;
    color:#fff;
    text-align:center;
}
h1,h2,h3{margin:10px 0}
button{
    padding:10px 15px;
    margin:5px;
    cursor:pointer;
    border:none;
    border-radius:5px;
    font-weight:bold;
}
.hidden{display:none}

/* ===================== CABE√áALHO ===================== */
header{
    background:#000;
    padding:15px;
}
header span{
    font-size:14px;
    color:#ccc;
}

/* ===================== MENU ===================== */
#menu{
    padding:20px;
}
.menu-btn{
    background:#0a7;
    color:#fff;
    width:250px;
}

/* ===================== QUIZ ===================== */
#quiz{
    max-width:600px;
    margin:auto;
    padding:20px;
}
.option{
    display:block;
    width:100%;
    background:#333;
    color:#fff;
    margin:8px 0;
}
.option:hover{background:#555}

/* ===================== JOGO CONDU√á√ÉO ===================== */
#drive{
    display:flex;
    justify-content:center;
    gap:20px;
    padding:20px;
}
#road{
    position:relative;
    width:300px;
    height:500px;
    background:#555;
    border:4px solid #fff;
    overflow:hidden;
}
#road::before{
    content:"";
    position:absolute;
    left:50%;
    width:6px;
    height:100%;
    background:repeating-linear-gradient(
        to bottom,
        #fff,#fff 20px,transparent 20px,transparent 40px
    );
    transform:translateX(-50%);
}
#car{
    position:absolute;
    bottom:20px;
    left:120px;
    width:60px;
    height:100px;
    background:red;
    border-radius:10px;
}
#signal{
    position:absolute;
    top:-90px;
    left:105px;
    width:90px;
    height:90px;
    border-radius:50%;
    background:yellow;
    color:#000;
    font-weight:bold;
    display:flex;
    align-items:center;
    justify-content:center;
}
#info{
    width:260px;
    background:#000;
    padding:15px;
    border-radius:10px;
}

/* ===================== FINAL ===================== */
#result{
    padding:20px;
}
</style>
</head>

<body>

<header>
<h1>üöó Mini Auto-Condutor</h1>
<p>Jogo educativo de Escola de Condu√ß√£o</p>
<span>Desenvolvido por <strong>Hermanio Cuamba</strong></span>
</header>

<!-- ===================== MENU ===================== -->
<section id="menu">
<h2>Escolha o Modo</h2>
<button class="menu-btn" onclick="startQuiz()">üìò Estudar (Quiz Te√≥rico)</button><br>
<button class="menu-btn" onclick="startDrive()">üö¶ Pr√°tica de Condu√ß√£o</button>
</section>

<!-- ===================== QUIZ ===================== -->
<section id="quiz" class="hidden">
<h2 id="qTitle"></h2>
<div id="options"></div>
<p id="feedback"></p>
<button onclick="nextQuestion()">Pr√≥xima</button>
</section>

<!-- ===================== CONDU√á√ÉO ===================== -->
<section id="drive" class="hidden">
<div id="road">
<div id="car"></div>
<div id="signal"></div>
</div>

<div id="info">
<h3>Sinal Atual</h3>
<p id="signalText"></p>
<p>Pontua√ß√£o: <span id="score">0</span></p>
<p><strong>Teclas:</strong></p>
<p>P = STOP</p>
<p>C = CEDER</p>
<p>V = VELOCIDADE</p>
</div>
</section>

<!-- ===================== RESULTADO ===================== -->
<section id="result" class="hidden"></section>

<script>
/* ===================== QUIZ ===================== */
const quizData=[
{q:"O que significa o sinal STOP?",o:["Parar completamente","Abrande","Estacione","Siga"],a:0},
{q:"Quem tem prioridade numa rotunda?",o:["Quem entra","Quem circula","Pe√µes","√înibus"],a:1},
{q:"Velocidade m√°xima em zona urbana?",o:["30","40","50","60"],a:2},
{q:"Sinal triangular com borda vermelha significa?",o:["Obriga√ß√£o","Proibi√ß√£o","Perigo","Informa√ß√£o"],a:2},
{q:"Luz amarela no sem√°foro significa?",o:["Parar se seguro","Acelerar","Ignorar","Ultrapassar"],a:0}
];

let qIndex=0, qScore=0;

function startQuiz(){
menu.classList.add("hidden");
quiz.classList.remove("hidden");
loadQuestion();
}

function loadQuestion(){
const q=quizData[qIndex];
qTitle.innerText=q.q;
options.innerHTML="";
feedback.innerText="";
q.o.forEach((op,i)=>{
const b=document.createElement("button");
b.className="option";
b.innerText=op;
b.onclick=()=>checkAnswer(i);
options.appendChild(b);
});
}

function checkAnswer(i){
if(i===quizData[qIndex].a){
qScore+=2;
feedback.innerText="‚úîÔ∏è Correto";
}else{
feedback.innerText="‚ùå Errado";
}
}

function nextQuestion(){
qIndex++;
if(qIndex<quizData.length){
loadQuestion();
}else{
quiz.classList.add("hidden");
result.classList.remove("hidden");
result.innerHTML=`<h2>Resultado</h2>
<p>Pontua√ß√£o: ${qScore}</p>
<p>Continue praticando para passar no exame.</p>
<button onclick="location.reload()">Voltar</button>`;
}
}

/* ===================== CONDU√á√ÉO ===================== */
let carX=120, signalY=-90, score=0, speed=3;
const signals=[
{t:"STOP",k:"p",d:"Parar completamente"},
{t:"CEDA",k:"c",d:"Dar prioridade"},
{t:"50",k:"v",d:"Velocidade m√°xima 50"}
];
let current=null;

function startDrive(){
menu.classList.add("hidden");
drive.classList.remove("hidden");
newSignal();
loop();
}

function newSignal(){
current=signals[Math.floor(Math.random()*signals.length)];
signal.innerText=current.t;
signalText.innerText=current.d;
signalY=-90;
}

document.addEventListener("keydown",e=>{
if(e.key==="ArrowLeft" && carX>0)carX-=20;
if(e.key==="ArrowRight" && carX<240)carX+=20;
if(current && e.key.toLowerCase()===current.k){
score+=5;
speed+=0.2;
scoreSpan();
newSignal();
}
car.style.left=carX+"px";
});

function scoreSpan(){scoreEl.innerText=score}

function loop(){
signalY+=speed;
signal.style.top=signalY+"px";
if(signalY>500){
score-=3;
scoreSpan();
newSignal();
}
requestAnimationFrame(loop);
}
</script>

</body>
</html>
